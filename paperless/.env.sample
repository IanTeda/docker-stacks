# =============================================================================
# Paperless-ngx Environment Configuration
# =============================================================================
#
# Instructions:
#   1. Copy this file to .env in the same directory
#   2. Update all values marked with <...> placeholders
#   3. Generate a secure PAPERLESS_SECRET_KEY (use: openssl rand -base64 32)
#   4. Set strong passwords for POSTGRES_PASSWORD and PAPERLESS_ADMIN_PASSWORD
#
# Security Notes:
#   - Never commit .env file to version control
#   - Use strong, unique passwords for all services
#   - Restrict file permissions: chmod 600 .env
#
# Documentation: https://docs.paperless-ngx.com/configuration/
# =============================================================================

# -----------------------------------------------------------------------------
# Global Settings
# -----------------------------------------------------------------------------

# Docker Compose project name (affects container names)
COMPOSE_PROJECT_NAME=paperless

# User and Group IDs for file permissions (get with: id -u / id -g)
PUID=1000
PGID=1000

# Timezone (e.g., America/New_York, Europe/London, Asia/Tokyo)
# List: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=UTC

# Enable automatic updates via Watchtower (true/false)
WATCHTOWER_UPDATE_ENABLE=false

# -----------------------------------------------------------------------------
# Container Versions
# -----------------------------------------------------------------------------
# Use specific versions (e.g., 7.2, 16.1, 3.0.0) for production stability
# or 'latest' for development (not recommended for production)
#
# NOTE: PostgreSQL 18+ changed the data directory structure. This compose file
# is compatible with both versions, but if upgrading from <18 to 18+, you may
# need to perform a pg_upgrade. See README for migration instructions.

# https://hub.docker.com/_/redis
REDIS_VERSION=8.6
# https://hub.docker.com/_/postgres
POSTGRES_VERSION=18.2
# https://hub.docker.com/r/gotenberg/gotenberg/tags
GOTENBERG_VERSION=8.26
# https://hub.docker.com/r/apache/tika/tags
TIKA_VERSION=3.2.3.0
# https://hub.docker.com/r/paperlessngx/paperless-ngx/tags
PAPERLESS_VERSION=2.20

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------

# Database name for Paperless
POSTGRES_DB=paperless

# Database user
POSTGRES_USER=paperless

# Database password - CHANGE THIS!
POSTGRES_PASSWORD=<change-me-strong-password>

# -----------------------------------------------------------------------------
# Paperless-ngx Configuration
# -----------------------------------------------------------------------------

# Storage path for all Paperless data (documents, database, etc.)
# Leave empty to use ./.volume relative to this file, or specify absolute path
# Example: /mnt/storage/paperless or /home/user/paperless-data
PAPERLESS_PATH=

# Public URL where Paperless is accessible (with https://)
# This is used for generating links in emails and for CORS
# Do NOT include a path (e.g., use https://paperless.example.com not https://example.com/paperless)
PAPERLESS_DOMAIN_NAME=https://paperless.yourdmain.com

# Secret key for session encryption - MUST BE UNIQUE!
# Generate with: openssl rand -base64 32
PAPERLESS_SECRET_KEY=<generate-with-openssl-rand-base64-32>

# Application title shown in the web interface
PAPERLESS_APP_TITLE=Paperless

# -----------------------------------------------------------------------------
# Admin User Configuration
# -----------------------------------------------------------------------------
# These create the initial admin user on first startup

# Admin username
PAPERLESS_ADMIN_USER=admin

# Admin password - CHANGE THIS!
PAPERLESS_ADMIN_PASSWORD=<change-me-strong-password>

# Admin email address
PAPERLESS_ADMIN_MAIL=admin@example.com

# -----------------------------------------------------------------------------
# OCR Configuration
# -----------------------------------------------------------------------------
# Primary OCR language (3-letter ISO 639-2 code)
# Common: eng (English), deu (German), fra (French), spa (Spanish), ita (Italian)
# Multiple: eng+deu for English and German
# Full list: https://tesseract-ocr.github.io/tessdoc/Data-Files
PAPERLESS_OCR_LANGUAGE=eng

# Additional OCR languages to install (space-separated)
# Example: deu fra spa ita por
PAPERLESS_OCR_LANGUAGES=

# -----------------------------------------------------------------------------
# Document Consumption Settings
# -----------------------------------------------------------------------------

# Enable recursive directory watching in consumption folder
PAPERLESS_CONSUMER_RECURSIVE=false

# Automatically tag documents based on subdirectory names
# Requires PAPERLESS_CONSUMER_RECURSIVE=true
PAPERLESS_CONSUMER_SUBDIRS_AS_TAGS=false

# -----------------------------------------------------------------------------
# Optional: Additional Configuration
# -----------------------------------------------------------------------------
# Uncomment and configure as needed

# Number of worker processes (increase for better performance on multi-core systems)
# PAPERLESS_TASK_WORKERS=1

# Enable email fetching for automatic document import
# PAPERLESS_EMAIL_TASK_CRON=*/10 * * * *

# Automatic document matching and classification
# PAPERLESS_TRAIN_TASK_CRON=5 */1 * * *

# Enable read cache for better performance (uses more Redis memory)
# PAPERLESS_DB_READ_CACHE_ENABLED=false

# -----------------------------------------------------------------------------
# Traefik Reverse Proxy Configuration
# ------------------------------------------------------------------------------
TRAEFIK_ENABLED=false
TRAEFIK_PAPERLESS_DOMAIN=paperless.yourdmain.com